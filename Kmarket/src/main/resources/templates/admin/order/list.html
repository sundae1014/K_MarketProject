<div th:replace="~{admin/order/_head.html}"></div>
<main>
    <div class="board">

        <aside class="sidebar">
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings-icon lucide-settings"><path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/><circle cx="12" cy="12" r="3"/></svg>
                    <p>환경설정</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/config/basic}" class="sub-link">기본설정</a></li>
                    <li><a th:href="@{/admin/config/banner}" class="sub-link">배너관리</a></li>
                    <li><a th:href="@{/admin/config/policy}" class="sub-link">약관관리</a></li>
                    <li><a th:href="@{/admin/config/category}" class="sub-link">카테고리</a></li>
                    <li><a th:href="@{/admin/config/version}" class="sub-link">버전관리</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-store-icon lucide-store"><path d="M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5"/><path d="M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244"/><path d="M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05"/></svg>
                    <p>상점관리</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/shop/list}" class="sub-link">상점목록</a></li>
                    <li><a th:href="@{/admin/shop/sales}" class="sub-link">매출현황</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-pen-icon lucide-user-pen"><path d="M11.5 15H7a4 4 0 0 0-4 4v2"/><path d="M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/><circle cx="10" cy="7" r="4"/></svg>
                    <p>회원관리</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/member/list}" class="sub-link">회원목록</a></li>
                    <li><a th:href="@{/admin/member/point}" class="sub-link">포인트관리</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-open-icon lucide-package-open"><path d="M12 22v-9"/><path d="M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z"/><path d="M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13"/><path d="M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z"/></svg>
                    <p>상품관리</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/product/list}" class="sub-link">상품목록</a></li>
                    <li><a th:href="@{/admin/product/register}" class="sub-link">상품등록</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-receipt-text-icon lucide-receipt-text"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"/><path d="M14 8H8"/><path d="M16 12H8"/><path d="M13 16H8"/></svg>
                    <p>주문관리</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/order/list}" class="sub-link">주문현황</a></li>
                    <li><a th:href="@{/admin/order/delivery}" class="sub-link">배송현황</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-ticket-percent-icon lucide-ticket-percent"><path d="M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"/><path d="M9 9h.01"/><path d="m15 9-6 6"/><path d="M15 15h.01"/></svg>
                    <p>쿠폰관리</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/coupon/list}" class="sub-link">쿠폰목록</a></li>
                    <li><a th:href="@{/admin/coupon/issued}" class="sub-link">쿠폰발급현황</a></li>
                </ul>
            </div>
            <div class="side-item">
                <div class="main-menu">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-laptop-minimal-check-icon lucide-laptop-minimal-check"><path d="M2 20h20"/><path d="m9 10 2 2 4-4"/><rect x="3" y="4" width="18" height="12" rx="2"/></svg>
                    <p>고객센터</p>
                </div>
                <ul class="sub-menu">
                    <li><a th:href="@{/admin/cs/notice/list}" class="sub-link">공지사항</a></li>
                    <li><a th:href="@{/admin/cs/faq/list}" class="sub-link">자주묻는질문</a></li>
                    <li><a th:href="@{/admin/cs/qna/list}" class="sub-link">문의하기</a></li>
                    <li><a th:href="@{/admin/cs/recruit/list}" class="sub-link">채용하기</a></li>
                </ul>
            </div>

        </aside>

        <div class="content-section">
            <div class="content-title">
                <div class="title-items">
                    <div class="item1">
                        <h4>주문현황</h4>
                    </div>
                    <div class="item2">
                        <span>HOME&nbsp>&nbsp주문관리&nbsp>&nbsp</span>
                        <h6>주문현황</h6>
                    </div>
                </div>
            </div>
            <div class="search">
                <div class="search-box">
                    <form method="GET" th:action="@{/admin/order/list}">

                        <input type="hidden" name="searchType" value="orderNumber">

                        <input type="text" value="주문번호" readonly>

                        <input type="text" name="keyword" placeholder="검색어 입력"
                               th:value="${OrderPage.keyword}">

                        <input type="submit" class="search-btn" value="검색">
                    </form>
                </div>
            </div>
            <div class="main-content">
                <table class="orders-table">
                    <tr>
                        <th>주문번호</th>
                        <th>주문자</th>
                        <th>주문자명</th>
                        <th>주문건수</th>
                        <th>주문합계</th>
                        <th>결제수단</th>
                        <th>주문상태</th>
                        <th>주문일</th>
                        <th>배송</th>
                    </tr>
                    <tr th:each="order : ${allOrders}">
                        <td class="order-number">
                            <a th:href="@{#}"
                               data-bs-toggle="modal"
                               data-bs-target="#orderModal"
                               th:text="${order.order_number}"
                               th:data-order-number="${order.order_number}"
                               class="order-detail-link">
                            </a>
                        </td>
                        <td th:text="${order.custId}"></td>
                        <td th:text="${order.ordName}"></td>
                        <td th:text="${order.piece}"></td>
                        <td th:text="${order.price}"></td>
                        <td th:switch="${order.payment}">
                            <span th:case="1">신용카드</span>
                            <span th:case="2">체크카드</span>
                            <span th:case="3">계좌이체</span>
                            <span th:case="4">무통장입금</span>
                            <span th:case="5">휴대폰결제</span>
                            <span th:case="6">카카오페이</span>
                            <span th:case="*">N/A</span> </td>
                        <td th:switch="${order.stat}">
                            <span th:case="0" class="status-payment-pending">결제대기</span>
                            <span th:case="1" class="status-payment-complete">결제완료</span>
                            <span th:case="2" class="status-preparing-shipment">배송준비</span>
                            <span th:case="3" class="status-shipping">배송중</span>
                            <span th:case="4" class="status-delivered">배송완료</span>
                            <span th:case="5" class="status-order-cancelled">주문취소</span>
                            <span th:case="6" class="status-return-request">반품요청</span>
                            <span th:case="7" class="status-exchange-request">교환요청</span>
                            <span th:case="8" class="status-purchase-confirmed">구매확정</span>
                            <span th:case="*">알 수 없음</span>
                        </td>
                        <td th:text="${#dates.format(order.ODate, 'yyyy-MM-dd HH:mm:ss')}"></td>
                        <td>
                            <button class="btn btn-white delivery-input-btn" data-bs-toggle="modal" data-bs-target="#addressModal"
                                    th:if="${order.stat == 1}"
                                    th:data-order-number="${order.order_number}"
                                    th:data-order-name="${order.name}"
                                    th:data-order-zip="${order.zip}"
                                    th:data-order-addr="${order.addr}"
                                    th:data-order-addr2="${order.addr2}"
                                    th:data-order-req="${order.req}">
                                배송하기
                            </button>
                        </td>
                    </tr>
                </table>

                <div class="pagination">
                    <div class="prev">
                        <a th:href="@{/admin/order/list(pg=1, searchType=${OrderPage.searchType}, keyword=${OrderPage.keyword})}"
                           th:classappend="${OrderPage.pg == 1} ? ' disabled' : ''">
                            <img th:src="@{/images/company/btn-first-page.png}">
                        </a>
                        <a th:href="@{/admin/order/list(pg=${OrderPage.pg - 1}, searchType=${OrderPage.searchType}, keyword=${OrderPage.keyword})}"
                           th:classappend="${OrderPage.pg == 1} ? ' disabled' : ''">
                            <img th:src="@{/images/company/btn-prev-page.png}">
                        </a>
                    </div>

                    <div class="pagenumber">
                        <a th:each="i : ${#numbers.sequence(OrderPage.start, OrderPage.end)}"
                           th:href="@{/admin/order/list(pg=${i}, searchType=${OrderPage.searchType}, keyword=${OrderPage.keyword})}"
                           th:text="${i}"
                           th:classappend="${i == OrderPage.pg} ? ' active' : ''"></a>
                    </div>

                    <div class="last">
                        <a th:href="@{/admin/order/list(pg=${OrderPage.pg + 1}, searchType=${OrderPage.searchType}, keyword=${OrderPage.keyword})}"
                           th:classappend="${OrderPage.pg == OrderPage.lastPage} ? ' disabled' : ''">
                            <img th:src="@{/images/company/btn-next-page.png}">
                        </a>
                        <a th:href="@{/admin/order/list(pg=${OrderPage.lastPage}, searchType=${OrderPage.searchType}, keyword=${OrderPage.keyword})}"
                           th:classappend="${OrderPage.pg == OrderPage.lastPage} ? ' disabled' : ''">
                            <img th:src="@{/images/company/btn-last-page.png}">
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>
</main>
<div th:insert="~{admin/order/modal/order-modal :: modal}"></div>
<div th:insert="~{admin/order/modal/address-modal :: modal}"></div>
<div th:replace="~{admin/order/_tail.html}"></div>