<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>반품신청</title>
</head>
<body>
<div th:fragment="modal">
    <div class="modal fade modal-top" id="returnModal" tabindex="-1" aria-labelledby="returnModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="returnModalLabel">반품신청</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="닫기"></button>
                </div>
                <div class="modal-body return-contents">
                    <div class="content-1">
                        <div class="content-top">
                            <div class="content-title">
                                <span>상품정보</span>
                            </div>
                        </div>
                        <table class="return-prod-table">
                            <tr>
                                <th>날짜</th>
                                <th></th>
                                <th class="second-th">상품정보</th>
                                <th>결제금액</th>
                                <th>상태</th>
                            </tr>
                            <tr>
                                <td><span id="return-modal-date"></span></td>
                                <td>
                                    <div class="prod-img">
                                        <img id="return-modal-prod-img" src="" alt="상품사진">
                                    </div>
                                </td>
                                <td class="second-td">
                                    <div class="return-prod-info">
                                        <p>주문번호 : <span id="return-modal-orderNumber"></span></p>
                                        <p><span id="return-modal-manufacture"></span></p>
                                        <p><span id="return-modal-prodName"></span></p>
                                        <p>수량 : <span id="return-modal-piece"></span></p>
                                        <h4><span id="return-modal-realPrice"></span></h4>
                                    </div>
                                </td>
                                <td>
                                    <div class="pay-info">
                                        <p class="flex-between">
                                            판매가 <span id="return-modal-salePrice"></span> </p>
                                        <p class="flex-between">
                                            할인 <span id="return-modal-discount"></span> </p>
                                        <p class="flex-between" style="font-weight: bold">
                                            결제금액 <span id="return-modal-finalPrice"></span> </p>
                                    </div>
                                </td>
                                <td><span id="return-modal-stat"></span></td>
                            </tr>
                        </table>
                    </div>
                    <div class="content-2">
                        <div class="content-top">
                            <div class="content-title">
                                <span>반품정보 입력</span>
                            </div>
                        </div>
                        <form id="returnForm" method="POST">
                            <input type="hidden" id="returnFormOrderNumber" name="orderNumber" value="">

                            <table class="return-info-table">
                                <tr>
                                    <th>반품유형</th>
                                    <td>
                                        <div class="return-types">
                                            <div class="return-type">
                                                <input type="radio" id="defect" name="exchange" value="1" required>
                                                <label for="defect">단순 변심</label>
                                            </div>
                                            <div class="return-type">
                                                <input type="radio" id="different" name="exchange" value="2" required>
                                                <label for="different">파손 및 불량</label>
                                            </div>
                                            <div class="return-type">
                                                <input type="radio" id="damaged" name="exchange" value="3" required>
                                                <label for="damaged">주문실수</label> </div>
                                            <div class="return-type">
                                                <input type="radio" id="other" name="exchange" value="4" required>
                                                <label for="other">기타</label>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>사유입력</th>
                                    <td>
                                            <textarea name="exchange_reason" class="reason-textarea" rows="5"
                                                      placeholder="반품 사유를 상세히 입력해주세요." required></textarea>
                                    </td>
                                </tr>
                                <tr>
                                    <th>사진첨부(선택)</th>
                                    <td>
                                        <div class="file-upload-section">
                                            <button type="button" class="file-upload-btn" onclick="document.getElementById('photoUpload').click()">
                                                파일선택
                                            </button>
                                            <input type="file" id="photoUpload" name="images" class="file-input" accept="image/*" multiple onchange="handleFileUpload(event, 'photo')">
                                        </div>
                                    </td>
                                </tr>
                            </table>

                            <div class="button-group">
                                <button type="submit" class="btn-submit">반품신청</button>
                                <button type="button" class="btn-cancel" data-bs-dismiss="modal">취소</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>