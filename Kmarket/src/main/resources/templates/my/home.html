<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mypage Main</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{/css/my/main.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/order-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/seller-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/qna-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/confirm-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/review-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/return-modal.css}">
    <link rel="stylesheet" th:href="@{/css/my/modal/exchange-modal.css}">
    <link rel="stylesheet" th:href="@{/css/main/style_header.css}">
    <link rel="stylesheet" th:href="@{/css/main/style_footer.css}">
    <script th:src="@{/js/my/order-modal.js}" defer></script>
</head>
<body>
    <main>
        <div th:replace="~{/my/_header :: headerFragment}"></div>
        <div class="content-wraper">
            <div class="top-info">
                <div class="info-title">
                    <span><a th:href="@{/my/home}">나의쇼핑정보</a></span>
                </div>
                <div class="status">
                    <table>
                        <tr>
                            <th>주문</th>
                            <th>쿠폰</th>
                            <th>포인트</th>
                            <th>문의</th>
                        </tr>
                        <tr>
                            <td><span th:text="${notConfirmedCount}"></span></td>
                            <td>1</td>
                            <td>1,000</td>
                            <td>1</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="main-container">
                <div class="side-menu">
                    <div class="menu-list">
                        <ul>
                            <li><a th:href="@{/my/order}">전체주문내역</a></li>
                            <li><a th:href="@{/my/point}">포인트내역</a></li>
                            <li><a th:href="@{/my/coupon}">쿠폰</a></li>
                            <li><a th:href="@{/my/review}">나의리뷰</a></li>
                            <li><a th:href="@{/my/qna}">문의하기</a></li>
                            <li><a th:href="@{/my/option}">나의설정</a></li>
                        </ul>
                    </div>
                </div>
                <div class="main-content">
                    <div class="banner-ad">
                        <img th:src="@{/images/my/banner_ad.jpg}" alt="광고사진">
                    </div>
                    <div class="order">
                        <div class="content-top">
                            <div class="content-title">
                                <span>최근구매내역</span>
                            </div>
                            <div class="content-more">
                                <a th:href="@{/my/order}">더보기&nbsp&nbsp&nbsp></a>
                            </div>
                        </div>
                        <table>
                            <tr>
                                <th>날짜</th>
                                <th></th>
                                <th class="second-th">상품정보</th>
                                <th>상태</th>
                                <th>확인/신청</th>
                            </tr>
                            <tr th:each="order : ${recentOrders}">
                                <td th:text="${order.dateString}"></td>
                                <td>
                                    <div class="prod-img">
                                        <img th:src="@{${order.encodedImg1}}" alt="상품 이미지"/>
                                    </div>
                                </td>
                                <td class="second-td">
                                    <div class="prod-info">
                                        <p><a href="#" class="order-detail-link"
                                              th:text="'주문번호 : ' + ${order.orderNumber}"
                                              th:attr="data-order-number=${order.orderNumber}"
                                              data-bs-toggle="modal" data-bs-target="#orderModal"></a>
                                        </p>
                                        <p><a data-bs-toggle="modal" data-bs-target="#sellerModal" th:text="${order.manufacture}"></a></p>
                                        <p><a href="#" th:text="${order.prod_name}"></a></p>
                                        <p th:text="'수량 : ' + ${order.piece} + '개'"></p>
                                        <h4 th:text="${order.priceString}"></h4>
                                    </div>
                                </td>
                                <td th:switch="${order.stat}">
                                    <span th:case="0" class="status-payment-pending">결제대기</span>
                                    <span th:case="1" class="status-payment-complete">결제완료</span>
                                    <span th:case="2" class="status-preparing-shipment">배송준비</span>
                                    <span th:case="3" class="status-shipping">배송중</span>
                                    <span th:case="4" class="status-delivered">배송완료</span>
                                    <span th:case="5" class="status-order-cancelled">주문취소</span>
                                    <span th:case="6" class="status-return-request">반품요청</span>
                                    <span th:case="7" class="status-exchange-request">교환요청</span>
                                    <span th:case="8" class="status-purchase-confirmed">구매확정</span>
                                    <span th:case="*">알 수 없음</span>
                                </td>
                                <td>
                                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmModal">
                                        구매확정
                                    </button><br>
                                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#reviewModal">
                                        상품평쓰기
                                    </button><br>
                                    <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#returnModal">
                                        반품신청
                                    </button><br>
                                    <button class="btn btn-light" data-bs-toggle="modal" data-bs-target="#exchangeModal">
                                        교환신청
                                    </button><br>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="point">
                        <div class="content-top">
                            <div class="content-title">
                                <span>포인트적립내역</span>
                            </div>
                            <div class="content-more">
                                <a th:href="@{/my/point}">더보기&nbsp&nbsp&nbsp></a>
                            </div>
                        </div>
                        <table>
                            <tr>
                                <th>날짜</th>
                                <th>구분</th>
                                <th>주문번호</th>
                                <th>적립금액</th>
                                <th>비고</th>
                                <th>유효기간</th>
                            </tr>
                            <tr>
                                <td>2022-12-13</td>
                                <td>적립</td>
                                <td>2022121001</td>
                                <td>340</td>
                                <td>상품 구매확정</td>
                                <td>2024-12-10</td>
                            </tr>
                        </table>
                    </div>
                    <div class="review">
                        <div class="content-top">
                            <div class="content-title">
                                <span>상품평</span>
                            </div>
                            <div class="content-more">
                                <a th:href="@{/my/review}">더보기&nbsp&nbsp&nbsp></a>
                            </div>
                        </div>
                        <table>
                            <tr>
                                <th>번호</th>
                                <th>상품명</th>
                                <th>내용</th>
                                <th>평점</th>
                                <th>작성일</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>상품번호/상품명</td>
                                <td>배송이 빨라요</td>
                                <td></td>
                                <td>2022-12-10</td>
                            </tr>
                        </table>
                    </div>
                    <div class="qna">
                        <div class="content-top">
                            <div class="content-title">
                                <span>문의내역</span>
                            </div>
                            <div class="content-more">
                                <a th:href="@{/my/qna}">더보기&nbsp&nbsp&nbsp></a>
                            </div>
                        </div>
                        <table>
                            <tr>
                                <th>번호</th>
                                <th>문의채널</th>
                                <th>문의유형</th>
                                <th>제목</th>
                                <th>작성일</th>
                                <th>상태</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td>고객센터</td>
                                <td>주문/결제</td>
                                <td>신용카드 결제 오류</td>
                                <td>2022-12-12</td>
                                <td>검토중</td>
                            </tr>
                        </table>
                    </div>
                    <div class="option">
                        <div class="content-top">
                            <div class="content-title">
                                <span>나의설정</span>
                            </div>
                        </div>
                        <div class="settings-list">
                            <div class="setting-item">
                                <div class="setting-header">
                                    <span class="setting-title">기본배송지 설정</span>
                                    <a href="#" class="edit-link">변경</a>
                                </div>
                                <div class="setting-content">
                                    <div class="setting-address">부산광역시 강서구 명지동 120</div>
                                    <div class="setting-address">한빛빌딩 10층</div>
                                </div>
                            </div>

                            <div class="setting-item">
                                <div class="setting-header">
                                    <span class="setting-title">Email 설정</span>
                                    <a href="#" class="edit-link">변경</a>
                                </div>
                                <div class="setting-content">
                                    <div class="setting-email">abc123@naver.com</div>
                                    <div class="setting-date">* 최종수정일 2021-12-10</div>
                                </div>
                            </div>

                            <div class="setting-item">
                                <div class="setting-header">
                                    <span class="setting-title">휴대폰 설정</span>
                                    <a href="#" class="edit-link">변경</a>
                                </div>
                                <div class="setting-content">
                                    <div class="setting-phone">010-1234-1001</div>
                                    <div class="setting-date">* 최종수정일 2021-12-10</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <div th:insert="~{my/modal/order-modal :: modal}"></div>
    <div th:insert="~{my/modal/seller-modal :: modal}"></div>
    <div th:insert="~{my/modal/qna-modal :: modal}"></div>
    <div th:insert="~{my/modal/confirm-modal :: modal}"></div>
    <div th:insert="~{my/modal/review-modal :: modal}"></div>
    <div th:insert="~{my/modal/return-modal :: modal}"></div>
    <div th:insert="~{my/modal/exchange-modal :: modal}"></div>
    <div th:replace="~{_footer :: footerFragment}"></div>
</body>
</html>